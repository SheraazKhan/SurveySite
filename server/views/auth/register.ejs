<%- include ../partials/surveyheader.ejs %>

<%- include ../partials/navbar.ejs %>
   
   
   <!-- Register Component -->
    <main class="container mb-5">
        <span class="text-center" style="display:flex; justify-content: center;">
          <h1>Create an account</h1>
        </span>
        <div class="row" style="display:flex; justify-content: center;">
      
          <form class="col col-lg-8 col-md-12" autocomplete="off" method="POST">
            <fieldset class="form-group">
              <label for="username" [ngStyle]="{'visibility': user.username? 'visible':'hidden'}">Username:</label>
      
              <input type="username" class="form-control" [(ngModel)]="user.username" name="username"
                placeholder="Enter username" #username="ngModel"
                [ngClass]="{ 'is-invalid': username.invalid && username.dirty}" required>
              <div *ngIf="username.invalid && username.dirty" class="invalid-feedback">
                <div *ngIf="username.errors.required">Username is required</div>
              </div>
            </fieldset>
      
            <fieldset class="form-group">
              <label for="password" [ngStyle]="{'visibility': user.password? 'visible':'hidden'}">Password:</label>
      
              <input type="password" class="form-control" [(ngModel)]="user.password" name="password"
                placeholder="Enter Password" #password="ngModel"
                [ngClass]="{ 'is-invalid': password.invalid && password.dirty}" required minlength="6">
              <div *ngIf="password.invalid && password.dirty" class="invalid-feedback">
                <div *ngIf="password.errors.required">Password is required</div>
                <div *ngIf="password.errors.minlength">Password must be at least 6 characters</div>
              </div>
            </fieldset>
      
            <fieldset class="form-group">
              <label for="email" [ngStyle]="{'visibility': user.email? 'visible':'hidden'}">Email:</label>
              <!-- uses custom email directive validator-->
              <input type="email" class="form-control" [(ngModel)]="user.email" name="email" placeholder="Enter Email"
                id="email" autocomplete="off" #email="ngModel" required emailValidateDirective
                [ngClass]="{ 'is-invalid': email.invalid && email.dirty}">
              <div *ngIf="email.invalid && email.dirty" class="invalid-feedback">
                <div *ngIf="email.errors.required">Email is required</div>
                <div *ngIf="email.errors.emailInvalid">Email must be a valid email address</div>
              </div>
            </fieldset>
      
            <fieldset class="form-group">
              <label for="displayName" [ngStyle]="{'visibility': user.displayName? 'visible':'hidden'}">Display Name:</label>
      
              <input type="displayName" class="form-control" [(ngModel)]="user.displayName" name="displayName"
                placeholder="Enter Display Name" #displayName="ngModel"
                [ngClass]="{ 'is-invalid': displayName.invalid && displayName.dirty}" required>
              <div *ngIf="displayName.invalid && displayName.dirty" class="invalid-feedback">
                <div *ngIf="displayName.errors.required">Display name is required</div>
              </div>
            </fieldset>
      
      
            <fieldset class="mt-4 form-group text-left">
              <button class='btn btn-primary m-1' type='submit' >
                <i class="fas fa-sign-in-alt"></i>
                Register
              </button>

              <a href="/survey-app" class="btn btn-warning">
                <i class="fas fa-undo"></i> Cancel</a>
      
      
            </fieldset>
          </form>
      
      
          <span class="col col-lg-4 col-md-12" id="img-wrap">

        </span>
      
        </div>
      </main>
      <%- include ../partials/footer.ejs %>  

<%- include ../partials/scripts.ejs %>
  